{"ast":null,"code":"const postKey = 'posts';\nexport function listWardrobe(filters = []) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(_listWardrobe(filters));\n    }, 500);\n  });\n} // Simulated server-side code\n\nfunction _listWardrobe(filters = []) {\n  // console.log(\"item: \" + item)\n  let postString = localStorage.getItem(postKey); // let posts = postString ? JSON.parse(postString) : [];\n\n  let posts = [{\n    id: 1,\n    tags: ['women', 'hoodie']\n  }, {\n    id: 1,\n    tags: ['men', 'shirt']\n  }, {\n    id: 2,\n    tags: ['hoodie']\n  }];\n  console.log('filters: ' + filters);\n\n  if (posts.length > 0 && filters.length > 0) {\n    posts = posts.filter(p => {\n      // return !p.tags.some(tag => !filters.includes(tag))\n      return !filters.some(tag => !p.tags.includes(tag));\n    });\n  } // console.log(posts)\n\n\n  return posts;\n}\n\n;\nexport function createWardrobe(id, tags) {\n  return new Promise((resolve, reject) => {\n    resolve(_createWardrobe(id, tags));\n  });\n}\n\nfunction _createWardrobe(id, tags) {\n  const newPost = {\n    id: id,\n    tags: tags\n  };\n  const posts = [newPost, ..._listWardrobe()]; // localStorage.setItem(postKey, JSON.stringify([]));\n\n  localStorage.setItem(postKey, JSON.stringify(posts)); // console.log('posts: '+ posts)\n\n  return newPost;\n}","map":{"version":3,"sources":["C:/Joshua/University/Software Studio/Final Project/outpairrel/src/api/wardrobe.js"],"names":["postKey","listWardrobe","filters","Promise","resolve","reject","setTimeout","_listWardrobe","postString","localStorage","getItem","posts","id","tags","console","log","length","filter","p","some","tag","includes","createWardrobe","_createWardrobe","newPost","setItem","JSON","stringify"],"mappings":"AAAA,MAAMA,OAAO,GAAG,OAAhB;AAEA,OAAO,SAASC,YAAT,CAAsBC,OAAO,GAAG,EAAhC,EAAoC;AACvC,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpCC,IAAAA,UAAU,CAAC,MAAM;AACbF,MAAAA,OAAO,CAACG,aAAa,CAACL,OAAD,CAAd,CAAP;AACH,KAFS,EAEP,GAFO,CAAV;AAGH,GAJM,CAAP;AAKH,C,CAED;;AACA,SAASK,aAAT,CAAuBL,OAAO,GAAG,EAAjC,EAAqC;AAEjC;AACA,MAAIM,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqBV,OAArB,CAAjB,CAHiC,CAIjC;;AACA,MAAIW,KAAK,GAAG,CACR;AACIC,IAAAA,EAAE,EAAE,CADR;AAEIC,IAAAA,IAAI,EAAE,CAAC,OAAD,EAAS,QAAT;AAFV,GADQ,EAKR;AACID,IAAAA,EAAE,EAAE,CADR;AAEIC,IAAAA,IAAI,EAAC,CAAC,KAAD,EAAO,OAAP;AAFT,GALQ,EASR;AACID,IAAAA,EAAE,EAAE,CADR;AAEIC,IAAAA,IAAI,EAAC,CAAC,QAAD;AAFT,GATQ,CAAZ;AAeAC,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAcb,OAA1B;;AACA,MAAIS,KAAK,CAACK,MAAN,GAAe,CAAf,IAAoBd,OAAO,CAACc,MAAR,GAAiB,CAAzC,EAA4C;AACxCL,IAAAA,KAAK,GAAGA,KAAK,CAACM,MAAN,CAAaC,CAAC,IAAI;AACtB;AACA,aAAO,CAAChB,OAAO,CAACiB,IAAR,CAAaC,GAAG,IAAI,CAACF,CAAC,CAACL,IAAF,CAAOQ,QAAP,CAAgBD,GAAhB,CAArB,CAAR;AACH,KAHO,CAAR;AAIH,GA1BgC,CA2BjC;;;AACA,SAAOT,KAAP;AACH;;AAAA;AAED,OAAO,SAASW,cAAT,CAAwBV,EAAxB,EAA4BC,IAA5B,EAAkC;AACrC,SAAO,IAAIV,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpCD,IAAAA,OAAO,CAACmB,eAAe,CAACX,EAAD,EAAKC,IAAL,CAAhB,CAAP;AACH,GAFM,CAAP;AAGH;;AAED,SAASU,eAAT,CAAyBX,EAAzB,EAA6BC,IAA7B,EAAmC;AAC/B,QAAMW,OAAO,GAAG;AACZZ,IAAAA,EAAE,EAAEA,EADQ;AAEZC,IAAAA,IAAI,EAAEA;AAFM,GAAhB;AAIA,QAAMF,KAAK,GAAG,CACVa,OADU,EAEV,GAAGjB,aAAa,EAFN,CAAd,CAL+B,CAS/B;;AACAE,EAAAA,YAAY,CAACgB,OAAb,CAAqBzB,OAArB,EAA8B0B,IAAI,CAACC,SAAL,CAAehB,KAAf,CAA9B,EAV+B,CAW/B;;AACA,SAAOa,OAAP;AACH","sourcesContent":["const postKey = 'posts';\r\n\r\nexport function listWardrobe(filters = []) {\r\n    return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n            resolve(_listWardrobe(filters));\r\n        }, 500);\r\n    });\r\n}\r\n\r\n// Simulated server-side code\r\nfunction _listWardrobe(filters = []) {\r\n    \r\n    // console.log(\"item: \" + item)\r\n    let postString = localStorage.getItem(postKey);\r\n    // let posts = postString ? JSON.parse(postString) : [];\r\n    let posts = [\r\n        {\r\n            id: 1,\r\n            tags: ['women','hoodie']\r\n        },\r\n        {\r\n            id: 1,\r\n            tags:['men','shirt']\r\n        },\r\n        {\r\n            id: 2,\r\n            tags:['hoodie']\r\n        }\r\n    ]\r\n    \r\n    console.log('filters: ' + filters)\r\n    if (posts.length > 0 && filters.length > 0) {\r\n        posts = posts.filter(p => {\r\n            // return !p.tags.some(tag => !filters.includes(tag))\r\n            return !filters.some(tag => !p.tags.includes(tag))\r\n        });\r\n    }\r\n    // console.log(posts)\r\n    return posts;\r\n};\r\n\r\nexport function createWardrobe(id, tags) {\r\n    return new Promise((resolve, reject) => {\r\n        resolve(_createWardrobe(id, tags));\r\n    });\r\n}\r\n\r\nfunction _createWardrobe(id, tags) {\r\n    const newPost = {\r\n        id: id,\r\n        tags: tags\r\n    };\r\n    const posts = [\r\n        newPost,\r\n        ..._listWardrobe()\r\n    ];\r\n    // localStorage.setItem(postKey, JSON.stringify([]));\r\n    localStorage.setItem(postKey, JSON.stringify(posts));\r\n    // console.log('posts: '+ posts)\r\n    return newPost;\r\n}"]},"metadata":{},"sourceType":"module"}