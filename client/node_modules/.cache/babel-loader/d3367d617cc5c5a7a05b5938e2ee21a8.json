{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Wilbert\\\\Repository\\\\outpairrel\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Wilbert\\\\Repository\\\\outpairrel\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\Wilbert\\\\Repository\\\\outpairrel\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./Photo.css';function Photo(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setImage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),change=_useState6[0],setChange=_useState6[1];var r;var name='';var uploadImage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var files,data,res,file;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:files=e.target.files;data=new FormData();data.append('file',files[0]);data.append('upload_preset','project');setLoading(true);setChange(true);_context.next=8;return fetch('https://api.cloudinary.com/v1_1/ddexbpc6j/image/upload',{method:'POST',body:data});case 8:res=_context.sent;_context.next=11;return res.json();case 11:file=_context.sent;setImage(file.secure_url);setLoading(false);case 14:case\"end\":return _context.stop();}}},_callee);}));return function uploadImage(_x){return _ref.apply(this,arguments);};}();if(change){if(loading){name='';// console.log('here')\nr=/*#__PURE__*/React.createElement(\"span\",null,\" Loading \");}else{name='-change';r=/*#__PURE__*/React.createElement(\"img\",{src:image,style:{width:'300px'}});}}else{name='';r=/*#__PURE__*/React.createElement(\"input\",{type:\"file\",name:\"file\",placeholder:\"Upload an image\",onChange:uploadImage});}return/*#__PURE__*/React.createElement(\"div\",{className:\"photo\"},/*#__PURE__*/React.createElement(\"div\",{className:\"rec\".concat(name,\" align-items-center align-self-center\")},/*#__PURE__*/React.createElement(\"div\",{style:{margin:'auto'}},r)));}export default Photo;","map":{"version":3,"sources":["C:/Users/Wilbert/repository/outpairrel/client/src/components/Photo.js"],"names":["React","useState","Photo","image","setImage","loading","setLoading","change","setChange","r","name","uploadImage","e","files","target","data","FormData","append","fetch","method","body","res","json","file","secure_url","width","margin"],"mappings":"ugBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,aAAP,CAEA,QAASC,CAAAA,KAAT,EAAiB,eACaD,QAAQ,CAAC,EAAD,CADrB,wCACNE,KADM,eACCC,QADD,8BAEiBH,QAAQ,CAAC,KAAD,CAFzB,yCAENI,OAFM,eAEGC,UAFH,8BAGeL,QAAQ,CAAC,KAAD,CAHvB,yCAGNM,MAHM,eAGEC,SAHF,eAIb,GAAIC,CAAAA,CAAJ,CACA,GAAIC,CAAAA,IAAI,CAAG,EAAX,CAEA,GAAMC,CAAAA,WAAW,0FAAG,iBAAMC,CAAN,0IACVC,KADU,CACFD,CAAC,CAACE,MAAF,CAASD,KADP,CAEVE,IAFU,CAEH,GAAIC,CAAAA,QAAJ,EAFG,CAGhBD,IAAI,CAACE,MAAL,CAAY,MAAZ,CAAoBJ,KAAK,CAAC,CAAD,CAAzB,EACAE,IAAI,CAACE,MAAL,CAAY,eAAZ,CAA6B,SAA7B,EACAX,UAAU,CAAC,IAAD,CAAV,CACAE,SAAS,CAAC,IAAD,CAAT,CANgB,sBAOEU,CAAAA,KAAK,CACnB,wDADmB,CAEnB,CACIC,MAAM,CAAE,MADZ,CAEIC,IAAI,CAAEL,IAFV,CAFmB,CAPP,QAOVM,GAPU,sCAcGA,CAAAA,GAAG,CAACC,IAAJ,EAdH,SAcVC,IAdU,eAgBhBnB,QAAQ,CAACmB,IAAI,CAACC,UAAN,CAAR,CACAlB,UAAU,CAAC,KAAD,CAAV,CAjBgB,uDAAH,kBAAXK,CAAAA,WAAW,4CAAjB,CAqBC,GAAIJ,MAAJ,CAAY,CACT,GAAGF,OAAH,CAAW,CACPK,IAAI,CAAG,EAAP,CACA;AACAD,CAAC,cAAG,4CAAJ,CACH,CAJD,IAKK,CACDC,IAAI,CAAG,SAAP,CACAD,CAAC,cAAG,2BAAK,GAAG,CAAEN,KAAV,CAAiB,KAAK,CAAE,CAAEsB,KAAK,CAAE,OAAT,CAAxB,EAAJ,CACH,CACH,CAVD,IAWK,CACFf,IAAI,CAAG,EAAP,CACAD,CAAC,cAAG,6BACJ,IAAI,CAAC,MADD,CAEJ,IAAI,CAAC,MAFD,CAGJ,WAAW,CAAC,iBAHR,CAIJ,QAAQ,CAAEE,WAJN,EAAJ,CAMF,CACF,mBACI,2BAAK,SAAS,CAAC,OAAf,eACI,2BAAK,SAAS,cAASD,IAAT,yCAAd,eACI,2BAAK,KAAK,CAAE,CAACgB,MAAM,CAAE,MAAT,CAAZ,EACKjB,CADL,CADJ,CADJ,CADJ,CAUH,CAED,cAAeP,CAAAA,KAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport './Photo.css'\r\n\r\nfunction Photo() {\r\n    const [image, setImage] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const [change, setChange] = useState(false)\r\n    let r;\r\n    var name = ''\r\n\r\n    const uploadImage = async e => {\r\n        const files = e.target.files\r\n        const data = new FormData()\r\n        data.append('file', files[0])\r\n        data.append('upload_preset', 'project')\r\n        setLoading(true)\r\n        setChange(true)\r\n        const res = await fetch(\r\n            'https://api.cloudinary.com/v1_1/ddexbpc6j/image/upload',\r\n            {\r\n                method: 'POST',\r\n                body: data\r\n            }\r\n        )\r\n        const file = await res.json()\r\n\r\n        setImage(file.secure_url)\r\n        setLoading(false)\r\n        \r\n    }\r\n\r\n     if( change ){\r\n        if(loading){\r\n            name = ''\r\n            // console.log('here')\r\n            r = <span> Loading </span>\r\n        }\r\n        else {\r\n            name = '-change'\r\n            r = <img src={image} style={{ width: '300px' }} />\r\n        }\r\n     }\r\n     else {\r\n        name = '';\r\n        r = <input\r\n        type=\"file\"\r\n        name=\"file\"\r\n        placeholder=\"Upload an image\"\r\n        onChange={uploadImage}\r\n        />\r\n     }\r\n    return (\r\n        <div className=\"photo\">\r\n            <div className= {`rec${name} align-items-center align-self-center`}>\r\n                <div style={{margin: 'auto'}}>\r\n                    {r}\r\n                </div>  \r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Photo;\r\n"]},"metadata":{},"sourceType":"module"}