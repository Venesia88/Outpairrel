{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Outpairrel\\\\src\\\\components\\\\Photo.js\";\nimport React, { useState } from 'react';\nimport { Input } from 'reactstrap';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport './Photo.css';\nimport { ListGroup, ListGroupItem } from 'reactstrap';\n\nfunction Photo() {\n  const [image, setImage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [change, setChange] = useState(false);\n  const listTags = useSelector(state => state.listTags.item);\n  const img = useSelector(state => state.listTags.img);\n  let r;\n  var name = '';\n\n  const uploadImage = async e => {\n    const files = e.target.files;\n    const data = new FormData();\n    data.append('file', files[0]);\n    data.append('upload_preset', 'project');\n    setLoading(true);\n    setChange(true);\n    const res = await fetch('https://api.cloudinary.com/v1_1/ddexbpc6j/image/upload', {\n      method: 'POST',\n      body: data\n    });\n    const file = await res.json();\n    setImage(file.secure_url);\n    setLoading(false);\n    this.props.dispatch(setImg(image));\n  };\n\n  if (change) {\n    if (loading) {\n      name = ''; // console.log('here')\n\n      r = /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }\n      }, \" Loading \");\n    } else {\n      name = '-change';\n      r = /*#__PURE__*/React.createElement(\"img\", {\n        src: img,\n        style: {\n          width: '300px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }\n      });\n    }\n  } else {\n    name = '';\n    r = /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"file\",\n      placeholder: \"Upload an image\",\n      onChange: uploadImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    });\n  }\n\n  let children = /*#__PURE__*/React.createElement(ListGroupItem, {\n    style: {\n      display: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"empty-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }));\n\n  if (listTags.length) {\n    children = listTags.map(tags => /*#__PURE__*/React.createElement(ListGroupItem, {\n      style: {\n        width: '25rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: tags[0].photo,\n      alt: tags[0].id,\n      style: {\n        width: '5px',\n        height: '5px',\n        paddingRight: '1rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, tags[0].name)));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"photo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: `rec${name} align-items-center align-self-center`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      margin: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, r)), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/tags\",\n    style: {\n      textDecoration: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, \"Add tags\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tags\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, children))));\n}\n\nexport default Photo;","map":{"version":3,"sources":["C:/Users/User/Desktop/Outpairrel/src/components/Photo.js"],"names":["React","useState","Input","BrowserRouter","Router","Route","Link","useSelector","ListGroup","ListGroupItem","Photo","image","setImage","loading","setLoading","change","setChange","listTags","state","item","img","r","name","uploadImage","e","files","target","data","FormData","append","res","fetch","method","body","file","json","secure_url","props","dispatch","setImg","width","children","display","length","map","tags","photo","id","height","paddingRight","margin","textDecoration"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Input } from 'reactstrap';\r\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport './Photo.css'\r\nimport {\r\n    ListGroup,\r\n    ListGroupItem\r\n} from 'reactstrap';\r\n\r\nfunction Photo() {\r\n    const [image, setImage] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const [change, setChange] = useState(false)\r\n    const listTags = useSelector(state => state.listTags.item);\r\n    const img = useSelector(state => state.listTags.img);\r\n    let r;\r\n    var name = ''\r\n\r\n    const uploadImage = async e => {\r\n        const files = e.target.files\r\n        const data = new FormData()\r\n        data.append('file', files[0])\r\n        data.append('upload_preset', 'project')\r\n        setLoading(true)\r\n        setChange(true)\r\n        const res = await fetch(\r\n            'https://api.cloudinary.com/v1_1/ddexbpc6j/image/upload',\r\n            {\r\n                method: 'POST',\r\n                body: data\r\n            }\r\n        )\r\n        const file = await res.json()\r\n\r\n        setImage(file.secure_url)\r\n        setLoading(false)\r\n        this.props.dispatch(setImg(image))\r\n    }\r\n\r\n    if (change) {\r\n        if (loading) {\r\n            name = ''\r\n            // console.log('here')\r\n            r = <span> Loading </span>\r\n        }\r\n        else {\r\n            name = '-change'\r\n            r = <img src={img} style={{ width: '300px' }} />\r\n        }\r\n    }\r\n    else {\r\n        name = '';\r\n        r = <input\r\n            type=\"file\"\r\n            name=\"file\"\r\n            placeholder=\"Upload an image\"\r\n            onChange={uploadImage}\r\n        />\r\n    }\r\n\r\n    let children = (\r\n        <ListGroupItem style={{display: 'none'}}>\r\n            <div className=\"empty-text\"></div>\r\n        </ListGroupItem>\r\n    );\r\n\r\n    if(listTags.length) {\r\n        children = listTags.map(tags => (\r\n            <ListGroupItem style={{width: '25rem'}}>\r\n                <img src={tags[0].photo} alt={tags[0].id} style={{width: '5px', height:'5px', paddingRight: '1rem'}}/>\r\n                <span>{tags[0].name}</span>\r\n            </ListGroupItem>\r\n        ))\r\n    }\r\n    return (\r\n        <div className=\"photo\">\r\n            <span className={`rec${name} align-items-center align-self-center`}>\r\n                <span style={{ margin: 'auto' }}>\r\n                    {r}\r\n                </span>\r\n            </span>\r\n            <span className='search'>\r\n                <Link to=\"/tags\" style={{ textDecoration: 'none' }}>\r\n                Add tags\r\n                </Link>\r\n                <div className='tags'>\r\n                    <ListGroup>{children}</ListGroup>\r\n                </div>\r\n            </span>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Photo;\r\n"]},"metadata":{},"sourceType":"module"}