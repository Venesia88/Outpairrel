{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Outpairrel\\\\src\\\\components\\\\Tag.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Collapse, Container, Button, Input } from 'reactstrap';\nimport './Wardrobe.css';\nimport TagList from './TagList.js';\nimport { Row, Col } from 'reactstrap';\nimport SideNav, { Toggle, Nav, NavItem, NavIcon, NavText } from '@trendmicro/react-sidenav'; // import '@trendmicro/react-sidenav/dist/react-sidenav.css';\n\nimport getProduct from '../api/products';\nimport './react-sidenav.css';\nimport FilterList from './FilterList.js';\nimport { connect } from 'react-redux';\nimport { settags } from '../actions/product-actions';\n\nclass Tag extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      buttonToggle: false,\n      searchText: [],\n      productList: []\n    };\n    this.searchEl = null;\n    this.handleSearchKeyPress = this.handleSearchKeyPress.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleClearSearch = this.handleClearSearch.bind(this);\n    this.handleClear = this.handleClear.bind(this);\n  }\n\n  componentDidMount() {\n    getProduct().then(products => {\n      this.setState({\n        productList: products\n      });\n      console.log(products);\n    });\n  }\n\n  render() {\n    const {\n      tags\n    } = this.props;\n    let sidebarClass = this.state.buttonToggle ? 'sidebar-open' : 'sidebar';\n    console.log('filter: ' + tags);\n    console.log('productList: ' + this.state.productList);\n    let post = this.state.productList.filter(p => {\n      // return !p.tags.some(tag => !tags.includes(tag))\n      let tags = [...p.defaultArticle.name.split(' '), ...p.mainCategoryCode.split('_')];\n      return !tags.some(tag => !tags.includes(tag));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-lists\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(SideNav, {\n      onToggle: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SideNav.Toggle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Collapse, {\n      isOpen: this.state.buttonToggle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      innerRef: this.searchEl,\n      placeholder: \"Search\",\n      onKeyPress: this.handleSearchKeyPress,\n      innerRef: e => this.searchEl = e,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }), this.state.searchText.length >= 1 && /*#__PURE__*/React.createElement(\"i\", {\n      className: \"navbar-text fa fa-times\",\n      onClick: this.handleClearSearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(FilterList, {\n      filter: tags,\n      handleClear: this.handleClear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(TagList, {\n      posts: post,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  handleClick() {\n    this.setState((prevState, props) => ({\n      buttonToggle: !prevState.buttonToggle\n    }));\n  }\n\n  handleSearchKeyPress(e) {\n    const {\n      tags\n    } = this.props; // var a = [...this.state.searchText];\n\n    var a = [...tags];\n    var keyCode = e.keyCode || e.which;\n\n    if (keyCode === 13) {\n      //     if(!this.state.searchText.some(el => el === e.target.value.toLowerCase())){\n      //     this.setState({\n      //         searchText: [e.target.value.toLowerCase(), ...a]\n      //     });\n      //     this.props.dispatch(settags([e.target.value.toLowerCase(), ...a]))\n      // }\n      if (!tags.some(el => el === e.target.value.toLowerCase())) {\n        this.props.dispatch(settags([e.target.value.toLowerCase(), ...a]));\n      }\n\n      this.searchEl.value = '';\n    }\n  }\n\n  handleClearSearch() {\n    const {\n      tags\n    } = this.props; // this.setState({\n    //     searchText: this.state.searchText.filter(text => {\n    //         return text !== this.searchEl.value\n    //     })\n    // })\n\n    this.props.dispatch(settags(tags.filter(text => {\n      return text !== this.searchEl.value;\n    })));\n    this.searchEl.value = '';\n  }\n\n  handleClear(text) {\n    const {\n      tags\n    } = this.props; // console.log('text: ' + text)\n    // this.setState({\n    //     searchText: this.state.searchText.filter(tags => {\n    //         return tags !== text\n    //     })\n    // })\n\n    this.props.dispatch(settags(tags.filter(tags => {\n      return tags !== text;\n    })));\n  }\n\n}\n\nexport default connect(state => ({\n  tags: state.tags\n}))(Tag); // function Tag(props) {\n//   // const posts = useSelector(state => state.posts.posts);\n//   const [productList, updateProducts] = useState([]);\n//   useEffect(function() {\n//     getProduct().then(products => {\n//       updateProducts(products);\n//       console.log(products);\n//     })\n//   },[]);\n//   return (\n//     <div className=\"w-lists\">\n//       <TagList posts={productList} />\n//     </div>\n//   );\n// }\n// export default Tag;","map":{"version":3,"sources":["C:/Users/User/Desktop/Outpairrel/src/components/Tag.js"],"names":["React","Component","PropTypes","Alert","Collapse","Container","Button","Input","TagList","Row","Col","SideNav","Toggle","Nav","NavItem","NavIcon","NavText","getProduct","FilterList","connect","settags","Tag","constructor","props","state","buttonToggle","searchText","productList","searchEl","handleSearchKeyPress","bind","handleClick","handleClearSearch","handleClear","componentDidMount","then","products","setState","console","log","render","tags","sidebarClass","post","filter","p","defaultArticle","name","split","mainCategoryCode","some","tag","includes","e","length","prevState","a","keyCode","which","el","target","value","toLowerCase","dispatch","text"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Alert, Collapse, Container, Button, Input } from 'reactstrap';\r\nimport './Wardrobe.css'\r\nimport TagList from './TagList.js';\r\nimport { Row, Col } from 'reactstrap';\r\nimport SideNav, { Toggle, Nav, NavItem, NavIcon, NavText } from '@trendmicro/react-sidenav';\r\n// import '@trendmicro/react-sidenav/dist/react-sidenav.css';\r\nimport getProduct from '../api/products';\r\nimport './react-sidenav.css'\r\nimport FilterList from './FilterList.js'\r\nimport { connect } from 'react-redux';\r\nimport { settags } from '../actions/product-actions';\r\n\r\nclass Tag extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      buttonToggle: false,\r\n      searchText: [],\r\n      productList: []\r\n    }\r\n\r\n    this.searchEl = null;\r\n    this.handleSearchKeyPress = this.handleSearchKeyPress.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClearSearch = this.handleClearSearch.bind(this);\r\n    this.handleClear = this.handleClear.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    getProduct().then(products => {\r\n      this.setState({\r\n        productList: products\r\n      })\r\n      console.log(products);\r\n    })\r\n  }\r\n  render() {\r\n    const { tags } = this.props\r\n    let sidebarClass = this.state.buttonToggle ? 'sidebar-open' : 'sidebar';\r\n    console.log('filter: ' + tags)\r\n    console.log('productList: ' + this.state.productList)\r\n    let post = this.state.productList.filter(p => {\r\n      // return !p.tags.some(tag => !tags.includes(tag))\r\n      let tags = [...p.defaultArticle.name.split(' '), ...p.mainCategoryCode.split('_')]\r\n      return !tags.some(tag => !tags.includes(tag))\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        {/* <h1 className=\"text-warning\">WARDROBE</h1> */}\r\n        <div className='w-lists'>\r\n          <SideNav onToggle={this.handleClick}>\r\n            <SideNav.Toggle />\r\n            <Collapse isOpen={this.state.buttonToggle}>\r\n              <div className='search'>\r\n                <Input type='text' innerRef={this.searchEl} placeholder='Search' onKeyPress={this.handleSearchKeyPress} innerRef={e => this.searchEl = e}></Input>\r\n                {\r\n                  this.state.searchText.length >= 1 &&\r\n                  <i className='navbar-text fa fa-times' onClick={this.handleClearSearch}></i>\r\n                }\r\n              </div>\r\n              <FilterList filter={tags} handleClear={this.handleClear} />\r\n            </Collapse>\r\n          </SideNav>\r\n          <TagList posts={post} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n\r\n  handleClick() {\r\n    this.setState((prevState, props) => ({\r\n      buttonToggle: !prevState.buttonToggle\r\n    }));\r\n  }\r\n\r\n  handleSearchKeyPress(e) {\r\n    const { tags } = this.props;\r\n    // var a = [...this.state.searchText];\r\n    var a = [...tags];\r\n    var keyCode = e.keyCode || e.which;\r\n    if (keyCode === 13) {\r\n      //     if(!this.state.searchText.some(el => el === e.target.value.toLowerCase())){\r\n      //     this.setState({\r\n      //         searchText: [e.target.value.toLowerCase(), ...a]\r\n      //     });\r\n      //     this.props.dispatch(settags([e.target.value.toLowerCase(), ...a]))\r\n      // }\r\n      if (!tags.some(el => el === e.target.value.toLowerCase())) {\r\n        this.props.dispatch(settags([e.target.value.toLowerCase(), ...a]))\r\n      }\r\n      this.searchEl.value = '';\r\n    }\r\n\r\n  }\r\n\r\n  handleClearSearch() {\r\n    const { tags } = this.props;\r\n    // this.setState({\r\n    //     searchText: this.state.searchText.filter(text => {\r\n    //         return text !== this.searchEl.value\r\n    //     })\r\n    // })\r\n    this.props.dispatch(settags(tags.filter(text => {\r\n      return text !== this.searchEl.value\r\n    })))\r\n    this.searchEl.value = '';\r\n  }\r\n\r\n  handleClear(text) {\r\n    const { tags } = this.props;\r\n    // console.log('text: ' + text)\r\n    // this.setState({\r\n    //     searchText: this.state.searchText.filter(tags => {\r\n    //         return tags !== text\r\n    //     })\r\n    // })\r\n    this.props.dispatch(settags(tags.filter(tags => {\r\n      return tags !== text\r\n    })))\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  tags: state.tags\r\n}))(Tag);\r\n\r\n// function Tag(props) {\r\n//   // const posts = useSelector(state => state.posts.posts);\r\n//   const [productList, updateProducts] = useState([]);\r\n//   useEffect(function() {\r\n//     getProduct().then(products => {\r\n//       updateProducts(products);\r\n//       console.log(products);\r\n//     })\r\n//   },[]);\r\n\r\n//   return (\r\n//     <div className=\"w-lists\">\r\n//       <TagList posts={productList} />\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default Tag;\r\n"]},"metadata":{},"sourceType":"module"}